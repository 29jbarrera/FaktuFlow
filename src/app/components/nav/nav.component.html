<!-- Botón para alternar el menú -->
<button
  class="fixed top-5 left-4 z-10 p-1 rounded-lg block shadow-lg sm:hidden toggle-menu"
  (click)="toggleMenu()"
>
  <i class="fas fa-bars text-lg px-1"></i>
</button>

<nav
  class="fixed top-0 w-full sm:w-[18%] left-0 h-screen overflow-hidden shadow-lg z-10"
  *ngIf="isMenuVisible"
>
  <!-- Logo centrado -->
  <div class="flex justify-center items-center pt-4">
    <img
      src="/assets/ico/Autoflow-logo.webp"
      alt="Logo"
      class="w-36 logo sm:w-42"
    />
  </div>

  <!-- Zona de bienvenida y dropdown para el correo -->
  <div class="py-4 px-5 justify-center">
    <h3 class="text-2xl font-semibold text-center mb-6">Bienvenido 👋🏻</h3>

    <p-accordion [activeIndex]="1">
      <p-accordion-panel value="0">
        <p-accordion-header>
          {{ userName }} {{ userApellidos }}</p-accordion-header
        >
        <p-accordion-content>
          <div class="mb-1">
            <button
              class="w-full text-left font-medium px-4 py-2 rounded-md mt-2 button-logout"
              (click)="navigateMiPerfil()"
            >
              Mi perfil
            </button>
          </div>
          <div>
            <button
              class="w-full text-left font-medium px-4 py-2 rounded-md mt-2 button-logout"
              (click)="logout()"
            >
              Cerrar sesión
            </button>
          </div>
        </p-accordion-content>
      </p-accordion-panel>
    </p-accordion>
  </div>

  <ul class="list-none py-6 px-8">
    <li class="p-2 text-lg">
      <a
        routerLink="/dashboard/resumen"
        routerLinkActive="active"
        class="block px-2 py-1 rounded nav-item"
        (click)="closeMenu()"
        ><i class="fas fa-chart-bar icon-item"></i> Resumen</a
      >
    </li>
    <li class="p-2 text-lg">
      <a
        routerLink="/dashboard/facturas"
        routerLinkActive="active"
        class="block px-2 py-1 rounded nav-item"
        (click)="closeMenu()"
        ><i class="fas fa-file-pdf icon-item"></i> Facturas</a
      >
    </li>
    <li class="p-2 text-lg">
      <a
        routerLink="/dashboard/gastos"
        routerLinkActive="active"
        class="block px-2 py-1 rounded nav-item"
        (click)="closeMenu()"
        ><i class="fas fa-money-bill icon-item"></i>Gastos</a
      >
    </li>
    <li class="p-2 text-lg">
      <a
        routerLink="/dashboard/ingresos"
        routerLinkActive="active"
        class="block px-2 py-1 rounded nav-item"
        (click)="closeMenu()"
        ><i class="fas fa-wallet icon-item"></i>Ingresos</a
      >
    </li>
    <li class="p-2 text-lg">
      <a
        routerLink="/dashboard/clientes"
        routerLinkActive="active"
        class="block px-2 py-1 rounded nav-item"
        (click)="closeMenu()"
        ><i class="fas fa-users icon-item"></i>Clientes</a
      >
    </li>
  </ul>
</nav>

<main class="ml-0 sm:ml-[18%] h-screen overflow-y-auto">
  <router-outlet></router-outlet>
  <app-footer></app-footer>
</main>
