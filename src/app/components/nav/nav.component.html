<!-- Botón para alternar el menú -->
<button
  class="fixed top-3 right-3 z-10 p-1 rounded-lg block shadow-lg lg:hidden toggle-menu"
  (click)="toggleMenu()"
>
  <i class="fas fa-bars text-lg px-1"></i>
</button>

<nav
  class="fixed top-0 w-full lg:w-[18%] left-0 h-screen overflow-hidden shadow-lg z-10 min-w-[260px] nav-color transition-transform duration-300 ease-in-out"
  *ngIf="isMenuVisible"
>
  <!-- Logo centrado -->
  <div class="flex justify-center items-center py-6 lg:mb-2 mb-0">
    <div
      class="bg-white border-4 rounded-[6%] p-1 shadow-lg py-7"
      style="border-color: var(--color-secondary)"
    >
      <img src="/assets/ico/FaktuFlow.avif" alt="Logo FaktuFlow" class="w-48" />
    </div>
  </div>

  <!-- Zona de bienvenida y dropdown para el correo -->
  <div class="py-2 px-5 justify-center">
    <h3 class="text-2xl font-semibold text-center lg:mb-12 mb-4">
      Bienvenido 👋🏻
    </h3>

    <p-accordion [activeIndex]="1">
      <p-accordion-panel value="0">
        <p-accordion-header>
          <p-avatar
            [label]="userInitial"
            size="large"
            [style]="{
              'background-color': 'rgb(76, 225, 185, 0.2)',
              color: '#112c35'
            }"
          />
          <p class="ml-1">
            {{ userName }} {{ userApellidos }}
          </p></p-accordion-header
        >
        <p-accordion-content>
          <div class="mb-1">
            <button
              class="w-full text-left font-medium px-4 py-2 rounded-md mt-2 button-logout"
              (click)="navigateMiPerfil()"
            >
              <i class="fas fa-user mr-1"></i>
              Mi perfil
            </button>
          </div>
          <div>
            <button
              class="w-full text-left font-medium px-4 py-2 rounded-md mt-2 button-logout"
              (click)="logoutConfirm()"
            >
              <i class="fas fa-sign-out-alt mr-1"></i>
              Cerrar sesión
            </button>
          </div>
        </p-accordion-content>
      </p-accordion-panel>
    </p-accordion>
  </div>

  <ul class="list-none py-6 px-8">
    <li class="p-2 text-lg">
      <a
        routerLink="/dashboard/resumen"
        routerLinkActive="active"
        class="block px-2 py-1 rounded nav-item"
        (click)="closeMenu()"
        ><i class="fas fa-chart-bar icon-item"></i> Resumen</a
      >
    </li>
    <li class="p-2 text-lg">
      <a
        routerLink="/dashboard/facturas"
        routerLinkActive="active"
        class="block px-2 py-1 rounded nav-item"
        (click)="closeMenu()"
        ><i class="fas fa-file-pdf icon-item"></i> Facturas</a
      >
    </li>
    <li class="p-2 text-lg">
      <a
        routerLink="/dashboard/gastos"
        routerLinkActive="active"
        class="block px-2 py-1 rounded nav-item"
        (click)="closeMenu()"
        ><i class="fas fa-money-bill icon-item"></i>Gastos</a
      >
    </li>
    <li class="p-2 text-lg">
      <a
        routerLink="/dashboard/ingresos"
        routerLinkActive="active"
        class="block px-2 py-1 rounded nav-item"
        (click)="closeMenu()"
        ><i class="fas fa-wallet icon-item"></i>Ingresos</a
      >
    </li>
    <li class="p-2 text-lg">
      <a
        routerLink="/dashboard/clientes"
        routerLinkActive="active"
        class="block px-2 py-1 rounded nav-item"
        (click)="closeMenu()"
        ><i class="fas fa-users icon-item"></i>Clientes</a
      >
    </li>
  </ul>
</nav>

<main class="ml-0 lg:ml-[18%] h-screen overflow-y-auto">
  <router-outlet></router-outlet>
  <app-footer></app-footer>
</main>

<p-confirmDialog></p-confirmDialog>
